<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Running NFD Integration Tests : Using Mini-NDN and Vagrant">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Running NFD Integration Tests</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/ndncomm/mini-ndn">View on GitHub</a>

          <h1 id="project_title">Running NFD Integration Tests</h1>
          <h2 id="project_tagline">Using Mini-NDN and Vagrant</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/ndncomm/mini-ndn/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/ndncomm/mini-ndn/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a id="team-members" class="anchor" href="#team-members" aria-hidden="true"><span class="octicon octicon-link"></span></a>Team Members</h2>

<p>Vince Lehman (<a href="https://github.com/vslehman" class="user-mention">@vslehman</a>), Davide Pesavento (<a href="https://github.com/Pesa" class="user-mention">@Pesa</a>), Eric Newberry (<a href="https://github.com/eric135" class="user-mention">@eric135</a>)</p>

<h2>
<a id="problem-statement" class="anchor" href="#problem-statement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem Statement</h2>

<p>Currently, the NFD integration tests can take hours to run using either Vagrant or Emulab. It would be helpful to the project if integration tests could be run more efficiently and in a much shorter time on Mini-NDN. In addition, this new testing infrastructure could potentially be integrated with Jenkins to test for breaking changes.</p>

<h2>
<a id="approach" class="anchor" href="#approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Approach</h2>

<p>To effectively use each team member's skills, we worked simultaneously on two tasks:</p>

<p>Vince and Davide worked to get the testing infrastructure and the integration tests working on Mini-NDN.</p>

<p>Eric worked to optimize the Vagrant tests for comparison against the Mini-NDN infrastructure. This was accomplished by eliminating the bottleneck of installing Boost and the NDN libraries and packages four separate times. Now, these steps are executed once on a template VM. This is then cloned for each of the four NDN nodes in the testing environment.</p>

<h2>
<a id="results" class="anchor" href="#results" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results</h2>

<p><img src="http://netwisdom.cs.memphis.edu/hackathon/run-tests.png" alt="Running tests">
<img src="http://netwisdom.cs.memphis.edu/hackathon/test-pass.png" alt="Tests passing"></p>

<h4>
<a id="mini-ndn" class="anchor" href="#mini-ndn" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mini-NDN</h4>

<p>Time to create topology and run 9 tests: 134 seconds</p>

<h4>
<a id="vagrant" class="anchor" href="#vagrant" aria-hidden="true"><span class="octicon octicon-link"></span></a>Vagrant</h4>

<p>Time to install dependencies, build code, create VMs, and run tests: 88 minutes, 14 seconds</p>

<h2>
<a id="current-status" class="anchor" href="#current-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current Status</h2>

<p>Tests that currently pass <strong>(9 of 19)</strong>:</p>

<ul>
<li><strong>test_interest_aggregation</strong></li>
<li><strong>test_unixface</strong></li>
<li><strong>test_ndnpeekpoke</strong></li>
<li><strong>test_route_expiration</strong></li>
<li><strong>test_ndnping</strong></li>
<li><strong>test_cs_freshness</strong></li>
<li><strong>test_nrd</strong></li>
<li><strong>test_fib_matching</strong></li>
<li><strong>test_ndntraffic</strong></li>
</ul>

<p>Tests that currently fail:</p>

<ul>
<li>
<strong>test_linkfail</strong>
-2 Failures: multicast and ncc <strong>(1 of 3 pass)</strong>
</li>
<li>
<strong>test_hub_discovery</strong>
-Passes but many errors are displayed; may be issue with test</li>
<li>
<strong>test_interest_loop</strong>
-cp: cannot stat ‘/usr/local/etc/ndn/keys’: No such file or directory
-ERROR: error while connecting to the forwarder (No such file or directory)</li>
<li>
<strong>test_localhost_scope</strong>
-Asks for login info</li>
<li>
<strong>test_multicast_strategy</strong>
-Asks for login info</li>
<li>
<strong>test_multicast</strong>
-nfd-status command does not run</li>
<li>
<strong>test_tcp_udp_tunnel</strong>
-A can’t create Face to D; no route</li>
<li>
<strong>test_localhop</strong>
-Error while connecting to the forwarder</li>
<li>
<strong>test_nfdc</strong>
-Error while connecting to the forwarder</li>
<li>
<strong>test_remote_register</strong>
-Asks for login info</li>
</ul>

<h2></h2>

<h3>
<a id="vagrant-1" class="anchor" href="#vagrant-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Vagrant</h3>

<p>The optimizations to the Vagrant environment have reduced the run time significantly. Instead of taking three or four hours, the integration tests now take just under an hour and a half to run.</p>

<h2>
<a id="todos" class="anchor" href="#todos" aria-hidden="true"><span class="octicon octicon-link"></span></a>TODOs</h2>

<ul>
<li>Get all tests working!</li>
</ul>

<h2>
<a id="future" class="anchor" href="#future" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future</h2>

<ul>
<li>Trigger tests from Jenkins</li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Running NFD Integration Tests maintained by <a href="https://github.com/ndncomm">ndncomm</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
